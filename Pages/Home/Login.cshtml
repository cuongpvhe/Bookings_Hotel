@page
@model Bookings_Hotel.Pages.Home.LoginModel
@{
    ViewBag.Title = "Đăng Nhập";
    Layout = "~/Pages/Shared/Layout_Login.cshtml";
}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <h2 class="text-center">Đăng Nhập</h2>

            @if (TempData["StatusMessage"] != null)
            {
                <div class="alert alert-danger">
                    @TempData["StatusMessage"]
                </div>
            }

            <div class="panel-body">
                @using (Html.BeginForm("Login", "Home", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                {
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                    <!-- Username Input -->
                    <div class="form-outline mb-4">
                        @Html.Label("Username", "User Name", new { @class = "form-label" }) <!-- Sửa tham số ở đây -->
                        @Html.TextBox("Username", null, new { @class = "form-control form-control-lg", required = "required" })
                        @Html.ValidationMessage("Error_Login", "", new { @class = "text-danger" })
                    </div>

                    <!-- Password Input -->
                    <div class="form-outline mb-4">
                        @Html.Label("Password", "Password", new { @class = "form-label" }) <!-- Sửa tham số ở đây -->
                        <div class="input-group">
                            @Html.Password("Password", null, new { @class = "form-control form-control-lg", id = "passwordField", required = "required" })
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="button" id="togglePasswordField">
                                    <span id="eyeIcon" class="glyphicon glyphicon-eye-open"></span>
                                </button>
                            </span>
                        </div>
                    </div>

                    <!-- Login Button -->
                    <div class="pt-1 mb-4">
                        <button type="submit" class="btn btn-dark btn-lg btn-block">Login</button>
                    </div>
                }

                <div class="form-group">
                    <div class="col-md-12 text-center">
                        Bạn chưa có tài khoản? <a asp-page="/Home/Register" class="nav-link">Register Now</a>.
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-12 text-center">
                        Quên mật khẩu? <a asp-page="/Home/ForgotPassword" class="nav-link">ForgotPassword</a>.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById("togglePasswordField").addEventListener("click", function () {
        var passwordField = document.getElementById("passwordField");
        var eyeIcon = document.getElementById("eyeIcon");
        if (passwordField.type === "password") {
            passwordField.type = "text";
            eyeIcon.className = "glyphicon glyphicon-eye-close";
        } else {
            passwordField.type = "password";
            eyeIcon.className = "glyphicon glyphicon-eye-open";
        }
    });
</script>